/* PieceOfMind – calm, modern UI */
:root{
  --bg:#f6f7fb; --surface:#fff; --surface-2:#f0f1f6;
  --text:#0b1020; --muted:#667085; --accent:#5b7cfa;
  --ok:#2ecc71; --warn:#f1c40f; --danger:#ff5d5d;

  --s-1:4px; --s-2:8px; --s-3:12px; --s-4:16px; --s-5:20px; --s-6:28px; --s-7:40px; --s-8:56px;
  --r-sm:8px; --r-md:14px; --r-lg:18px; --r-xl:26px;

  --sh-1:0 3px 12px rgba(16,24,40,.08);
  --sh-2:0 8px 22px rgba(16,24,40,.12);
  --sh-3:0 18px 64px rgba(16,24,40,.16);
  --accent:#5b7cfa;
}
html[data-theme="dark"]{
   --accent:#49b3ff;      /* primary accent */
  --surface:#101726;     /* slightly deeper */
  --surface-2:#172132;
  --text:#e8ecf8; --muted:#99a2b3; --accent:#7c6df4;
  --ok:#22d3a3; --warn:#f8d568; --danger:#ff6b6b;
  --sh-1:0 3px 12px rgba(0,0,0,.28);
  --sh-2:0 8px 22px rgba(0,0,0,.36);
  --sh-3:0 18px 64px rgba(0,0,0,.44);
}

html[data-reduced-motion="reduce"] *{animation:none!important;transition:none!important;}
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; font:400 16px/1.6 -apple-system,BlinkMacSystemFont,"SF Pro Text","SF Pro Display",Inter,Arial,sans-serif;
  color:var(--text); background:var(--bg);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Animated background (fallback if Vanta not present) */
#animated-bg{
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(1100px 700px at 18% 12%, rgba(124,109,244,.22), transparent 60%),
    radial-gradient(900px 600px at 78% 18%, rgba(91,124,250,.18), transparent 60%),
    radial-gradient(800px 600px at 50% 88%, rgba(34,211,163,.10), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg));
  filter:saturate(105%) contrast(102%);
  animation:bg-pan 18s ease-in-out infinite;
}
@keyframes bg-pan{0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(0,-1%,0) scale(1.02)}100%{transform:translate3d(0,0,0) scale(1)}}

/* Apple-thin announcement ribbon */
.thin-ribbon{
  position:sticky; top:0; z-index:60;
  height:24px; display:flex; align-items:center; justify-content:center; gap:.5rem;
  font-size:12px; color:var(--text);
  background:color-mix(in srgb, var(--surface) 90%, transparent);
  backdrop-filter:saturate(140%) blur(8px);
  border-bottom:1px solid color-mix(in srgb, var(--text) 10%, transparent);
  transition:opacity .2s ease,transform .2s ease;
}
.thin-ribbon a{color:var(--accent);text-decoration:none}
.thin-ribbon .ribbon-close{margin-left:.4rem;border:0;background:transparent;cursor:pointer;color:var(--muted)}
.thin-ribbon.hide{opacity:0;transform:translateY(-10px)}

/* Thin header that shrinks on scroll */
.sticky-nav{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; gap:clamp(10px,3vw,20px);
  padding:6px clamp(14px,4vw,40px);  /* thinner */
  backdrop-filter:saturate(140%) blur(14px);
  background:color-mix(in srgb, var(--surface) 72%, transparent);
  border-bottom:1px solid color-mix(in srgb, var(--text) 10%, transparent);
  transition:padding .16s ease, background .2s ease, border-color .2s ease;
}
.sticky-nav.compact{padding:4px clamp(14px,4vw,40px);}  /* super thin */
.sticky-nav .brand a{color:var(--text);text-decoration:none;font-weight:750;letter-spacing:.2px}
header nav ul{list-style:none;display:flex;gap:clamp(12px,2vw,22px);margin:0;padding:0}
header nav a{color:var(--muted);text-decoration:none;font-weight:500}
header nav a.active, header nav a:hover{color:var(--text)}
.header-actions{margin-left:auto;display:flex;gap:8px;align-items:center}
.theme-toggle{border:1px solid color-mix(in srgb, var(--muted) 28%, transparent);background:transparent;color:var(--text);
  border-radius:999px;padding:5px 10px;cursor:pointer}

/* Thin footer */
footer{
  display:flex;align-items:center;justify-content:space-between;gap:var(--s-3);
  padding:10px clamp(14px,4vw,40px);  /* thinner */
  margin-top:var(--s-7);
  border-top:1px solid color-mix(in srgb, var(--text) 10%, transparent);
  background:color-mix(in srgb, var(--surface) 70%, transparent);
  backdrop-filter:saturate(140%) blur(8px);
}
.footer-links a{color:var(--muted);text-decoration:none;margin-left:var(--s-3)}
.footer-links a:hover,.footer-links a.active{color:var(--text)}

/* Buttons / pills */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
  padding:.55rem .9rem;border-radius:999px;border:1px solid transparent;cursor:pointer;
  background:var(--surface);color:var(--text);box-shadow:var(--sh-1);
  transition:transform .16s ease, box-shadow .2s ease, background .2s ease, color .2s ease;}
.btn:hover{transform:translateY(-1px);box-shadow:var(--sh-2)}
.btn:active{transform:translateY(0);box-shadow:var(--sh-1)}
.btn-primary{background:var(--accent);color:#fff}
.btn-ghost{background:transparent;border-color:color-mix(in srgb, var(--muted) 25%, transparent);color:var(--text)}
.btn-success{background:var(--ok);color:#011}
.btn-danger{background:var(--danger);color:#fff}
.btn[disabled]{opacity:.6;pointer-events:none}
.pill{border-radius:999px;padding:.42rem .75rem;border:1px solid color-mix(in srgb, var(--muted) 25%, transparent);
  background:color-mix(in srgb, var(--surface) 80%, transparent);color:var(--text);cursor:pointer;transition:background .2s,transform .12s}
.pill:hover{transform:translateY(-1px)}

main{padding:clamp(10px,2.2vw,24px) 0}
section{padding:0 clamp(14px,4vw,40px)}

/* Hero */
.hero{position:relative;min-height:min(76vh,900px);display:grid;place-items:center;overflow:hidden}
.hero video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:.16}
.hero::after{content:"";position:absolute;inset:0;background:radial-gradient(900px 600px at 70% 30%, rgba(124,109,244,.32), transparent 60%);pointer-events:none}
.hero-content{position:relative;z-index:1;text-align:center;max-width:min(920px,88vw);color:var(--text)}
.hero h2{font-weight:800;letter-spacing:-.02em;font-size:clamp(28px,6vw,60px);line-height:1.1;margin:0 0 .6rem}
.hero p{color:var(--muted);margin:0 0 1.2rem;font-size:clamp(16px,1.8vw,18px)}
.hero-cta{display:flex;gap:.6rem;justify-content:center;flex-wrap:wrap}

/* Cards / gauges */
.dashboard .gauges,.monitoring .gauges{display:grid;grid-template-columns:repeat(2,minmax(220px,1fr));gap:22px;margin-top:20px}
.gauge{background:var(--surface);border-radius:var(--r-lg);padding:18px;box-shadow:var(--sh-1);transition:transform .2s, box-shadow .2s}
.gauge:hover{transform:translateY(-2px);box-shadow:var(--sh-2)}
.circular-gauge{--size:clamp(88px,16vw,120px);width:var(--size);height:var(--size);border-radius:50%;
  display:inline-grid;place-items:center;background:conic-gradient(var(--accent) 120deg, var(--surface-2) 120deg 360deg);
  box-shadow:inset 0 0 0 10px var(--surface),var(--sh-1);transition:background .35s}
.circular-gauge::before{content:attr(title);font-weight:700;color:var(--muted);font-size:13px}

/* Tabs / timeline */
.tabs{display:flex;gap:12px;margin-top:16px;border-bottom:1px solid color-mix(in srgb, var(--text) 10%, transparent)}
.tab{border:none;background:transparent;padding:.65rem .9rem;cursor:pointer;color:var(--muted)}
.tab.active{color:var(--text);border-bottom:2px solid var(--text)}
.timeline{margin-top:18px}
.timeline-entries{display:grid;gap:8px}
.timeline-row{display:grid;grid-template-columns:100px 110px 1fr;gap:14px;align-items:center;padding:.55rem .85rem;border-radius:10px;background:var(--surface);box-shadow:var(--sh-1)}
.timeline-row .time{color:var(--muted)}
.timeline-row.info{border-left:4px solid var(--accent)}
.timeline-row.warn{border-left:4px solid var(--warn)}
.timeline-row.alert{border-left:4px solid var(--danger)}

/* Carousel */
.carousel{position:relative;overflow:hidden;border-radius:var(--r-lg);background:var(--surface);box-shadow:var(--sh-1)}
.carousel-track{display:flex;transition:transform .5s cubic-bezier(.2,.8,.2,1)}
.carousel-slide{flex:0 0 100%;display:grid;place-items:center;padding:16px}
.carousel-slide img{width:100%;height:60vh;object-fit:cover;border-radius:12px}
.carousel-arrow{position:absolute;top:50%;transform:translateY(-50%);z-index:2;border:none;background:color-mix(in srgb, var(--surface) 88%, transparent);
  padding:.55rem .75rem;border-radius:999px;box-shadow:var(--sh-1);cursor:pointer}
.carousel-arrow.prev{left:10px}.carousel-arrow.next{right:10px}
.carousel-dots{display:flex;gap:.4rem;justify-content:center;padding:10px}
.carousel-dot{width:10px;height:10px;border-radius:50%;border:none;background:color-mix(in srgb, var(--muted) 40%, transparent)}
.carousel-dot.active{background:var(--accent)}

/* Toasts */
.toast-container{position:fixed;right:clamp(10px,3vw,20px);bottom:clamp(10px,3vw,20px);display:grid;gap:10px;z-index:100}
.toast{background:var(--surface);color:var(--text);border-radius:12px;box-shadow:var(--sh-2);padding:.64rem .9rem;transform:translateY(10px);opacity:0;transition:transform .25s, opacity .25s}
.toast.show{transform:translateY(0);opacity:1}
.toast.success{border-left:4px solid var(--ok)}.toast.warn{border-left:4px solid var(--warn)}.toast.error{border-left:4px solid var(--danger)}

/* Reveal effects */
[data-reveal]{opacity:0;transform:translateY(16px) scale(.98);transition:opacity .5s, transform .6s cubic-bezier(.2,.8,.2,1);transition-delay:var(--reveal-delay,0ms)}
[data-reveal="up"]{transform:translateY(22px)} [data-reveal="fade"]{transform:none} [data-reveal="zoom"]{transform:scale(.96)}
[data-reveal="left"]{transform:translateX(-24px)} [data-reveal="right"]{transform:translateX(24px)} .is-visible{opacity:1!important;transform:none!important}
[data-tilt]{will-change:transform;transform-style:preserve-3d}

/* Focus sections */
.focus .grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));margin-top:10px}
.card{background:var(--surface);border-radius:16px;padding:16px;box-shadow:var(--sh-1);transition:transform .2s, box-shadow .2s}
.card:hover{transform:translateY(-2px);box-shadow:var(--sh-2)}
.card h4{margin:.2rem 0 .4rem}
.badge{display:inline-block;padding:.25rem .55rem;border-radius:999px;background:var(--surface-2);color:var(--muted);font-size:12px}

/* About / Why / Testimonials */
.feature-cards,.about-tiles,.testimonials{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.testimonial{background:var(--surface);border-radius:14px;padding:16px;box-shadow:var(--sh-1)}
.testimonial .author{display:flex;align-items:center;gap:10px;margin-top:8px;color:var(--muted);font-size:14px}

/* Utilities */
.hidden{display:none!important}

/* Responsive */
@media (min-width:768px){
  .dashboard .gauges,.monitoring .gauges{grid-template-columns:repeat(3,minmax(220px,1fr))}
}
@media (min-width:1024px){
  .hero h2{font-size:clamp(48px,7vw,72px)}
  .hero p{font-size:clamp(16px,1.4vw,20px)}
}
/* --- ultra-thin bars + sticky footer (overrides) --- */

footer{ padding:6px clamp(14px,4vw,40px) }

/* Pin footer without changing layout flow */
html,body{ height:100% }
body{ min-height:100vh; display:flex; flex-direction:column }
main{ flex:1 }

/* Minor util you already use in JS text */
.muted{ color:var(--muted) }

/* Monitoring spacing only (no placement change) */
.trimodal .pills{ display:flex; gap:12px; flex-wrap:wrap }
#sensor-panel{ margin-top:16px }
/* animated background still as a fallback gradient when Vanta is off */
#animated-bg{
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(1100px 700px at 18% 12%, rgba(124,109,244,.00), transparent 60%),
    radial-gradient(900px 600px at 78% 18%, rgba(91,124,250,.00), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg));
  animation:bg-pan 18s ease-in-out infinite;
}

/* footer at bottom with thin ribbons */
html,body{height:100%}
body{min-height:100vh; display:flex; flex-direction:column;}
main{flex:1 0 auto}
footer{flex-shrink:0; padding:10px clamp(14px,4vw,40px);} /* already thin */


/* Settings — polished cards */
.settings{max-width:980px;margin:0 auto}
.settings h2{margin-bottom:8px}
.setting-grid{
  display:grid; gap:16px; margin-top:10px;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
}
.setting-card{
  position:relative;
  background:var(--surface);
  border-radius:16px;
  padding:16px;
  box-shadow:var(--sh-1);
  overflow:hidden;
}
.setting-card::after{ /* subtle animated border glow */
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  background:conic-gradient(from 180deg, color-mix(in srgb, var(--accent) 36%, transparent), transparent 30% 70%, color-mix(in srgb, var(--accent) 36%, transparent));
  opacity:.0; transition:opacity .3s ease;
}
.setting-card:hover::after{opacity:.35; filter:blur(18px)}
.setting-row{display:flex; align-items:center; justify-content:space-between; gap:12px; margin:.4rem 0}

/* make inputs feel native/pro */
#sel-theme, #rng-ambience{
  accent-color: var(--accent);
}
#sel-theme{
  background:var(--surface-2); color:var(--text); border:1px solid color-mix(in srgb, var(--muted) 28%, transparent);
  border-radius:10px; padding:.45rem .65rem;
}
#chk-reduced-motion{
  inline-size: 1.25rem; block-size: 1.25rem;
}
#btn-clear{box-shadow:var(--sh-2)}
.about-us .about-grid{
  display:grid; gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
}
.card.lift{
  background:var(--surface);
  border-radius:16px;
  padding:16px;
  box-shadow:var(--sh-1);
  transform:translateY(0) scale(1);
  transition:transform .22s ease, box-shadow .22s ease;
}
.card.lift:hover{ transform:translateY(-4px) scale(1.01); box-shadow:var(--sh-2); }
.card.shimmer{
  position:relative; overflow:hidden;
}
.card.shimmer::before{
  content:""; position:absolute; inset:-1px; border-radius:18px; pointer-events:none;
  background:linear-gradient(120deg,
    transparent 0% 35%,
    color-mix(in srgb, var(--accent) 30%, transparent) 45%,
    transparent 60% 100%);
  transform:translateX(-60%);
  animation:shimmer 3s linear infinite;
  opacity:.6;
}
@keyframes shimmer{
  0%{transform:translateX(-60%)}
  100%{transform:translateX(60%)}
}
/* opt-in: add class="floaty" on tiles you want subtly animated */
.floaty{
  will-change:transform;
  animation:floaty 6s ease-in-out infinite;
}
@keyframes floaty{
  0%,100%{ transform:translateY(0) }
  50%{ transform:translateY(-4px) }
}

/* micro-tilt on hover for all .card/.gauge without changing grid sizes */
.card:hover, .gauge:hover{
  transform:translateY(-3px) rotateX(.2deg) rotateY(.2deg);
}
/* monitoring spacing when a modality is selected */
.monitoring .modality-panel{ margin-top:18px }
.monitoring .modality-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px }
.monitoring .modality-hint{ color:var(--muted); margin-top:6px }
/* ---------- Universal Glaze / Shine ---------- */
@keyframes glaze-sweep{
  0%   { transform: translateX(-120%) rotate(18deg); }
  100% { transform: translateX(120%)  rotate(18deg); }
}

/* opt-in list of “card-like” surfaces already in your UI */
.card, .gauge, .setting-card, .testimonial,
.feature-cards > *, .about-tiles > *, .testimonials > *,
.timeline-row, .carousel, .dashboard .gauges .gauge,
.focus .grid > .card {
  position: relative;
  overflow: hidden;
  isolation: isolate;           /* so the shine doesn’t bleed */
}

/* the moving diagonal shine */
.card::before, .gauge::before, .setting-card::before, .testimonial::before,
.feature-cards > *::before, .about-tiles > *::before, .testimonials > *::before,
.timeline-row::before, .carousel::before, .dashboard .gauges .gauge::before,
.focus .grid > .card::before {
  content:"";
  position:absolute; inset:-20% -60% -20% -60%;
  background:
    linear-gradient(100deg,
      transparent 0 45%,
      color-mix(in srgb, #fff 55%, var(--accent)) 49%,
      color-mix(in srgb, #fff 65%, var(--accent)) 51%,
      transparent 55% 100%);
  opacity:.28;
  filter: blur(2px);
  animation: glaze-sweep 5.8s linear infinite;
  pointer-events:none;
}

/* tone for dark vs light */
html[data-theme="dark"] .card::before,
html[data-theme="dark"] .gauge::before,
html[data-theme="dark"] .setting-card::before,
html[data-theme="dark"] .testimonial::before,
html[data-theme="dark"] .feature-cards > *::before,
html[data-theme="dark"] .about-tiles > *::before,
html[data-theme="dark"] .testimonials > *::before,
html[data-theme="dark"] .timeline-row::before,
html[data-theme="dark"] .carousel::before,
html[data-theme="dark"] .dashboard .gauges .gauge::before,
html[data-theme="dark"] .focus .grid > .card::before{
  background:
    linear-gradient(100deg,
      transparent 0 45%,
      color-mix(in srgb, var(--accent) 40%, #ffffff) 49%,
      color-mix(in srgb, var(--accent) 60%, #ffffff) 51%,
      transparent 55% 100%);
  opacity:.22;
}

/* Reduced motion => no glaze sweep */
html[data-reduced-motion="reduce"] .card::before,
html[data-reduced-motion="reduce"] .gauge::before,
html[data-reduced-motion="reduce"] .setting-card::before,
html[data-reduced-motion="reduce"] .testimonial::before,
html[data-reduced-motion="reduce"] .feature-cards > *::before,
html[data-reduced-motion="reduce"] .about-tiles > *::before,
html[data-reduced-motion="reduce"] .testimonials > *::before,
html[data-reduced-motion="reduce"] .timeline-row::before,
html[data-reduced-motion="reduce"] .carousel::before,
html[data-reduced-motion="reduce"] .dashboard .gauges .gauge::before,
html[data-reduced-motion="reduce"] .focus .grid > .card::before{
  animation:none;
  opacity:.12;
}
/* Light-mode cloud visibility boost (subtle multiply/tint) */
#animated-bg{isolation:isolate}
#animated-bg[data-variant="light"]::after{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
  background:
    radial-gradient(1200px 900px at 15% 8%, rgba(122,174,255,.35), transparent 60%),
    radial-gradient(1100px 800px at 80% 14%, rgba(122,174,255,.28), transparent 60%);
  mix-blend-mode:multiply;        /* darken the sky so white clouds pop */
}
/* swap purple accent → night-sky blue */
html[data-theme="dark"]{
  --accent:#49b3ff;        /* primary brand in dark */
  --surface:#0f1627;       /* deeper card surface */
  --surface-2:#162035;
}

/* richer cards in dark */
html[data-theme="dark"] .card,
html[data-theme="dark"] .gauge,
html[data-theme="dark"] .setting-card,
html[data-theme="dark"] .testimonial,
html[data-theme="dark"] .timeline-row{
  background: linear-gradient(180deg, color-mix(in srgb, var(--surface) 92%, transparent), color-mix(in srgb, var(--surface) 100%, transparent));
  box-shadow: 0 12px 36px rgba(0,10,24,.35);
}

/* buttons look better with the new blue */
html[data-theme="dark"] .btn-primary{ background: var(--accent); color:#fff; }
/* header sheen */
@keyframes ribbon-sheen{ 0%{transform:translateX(-100%)} 100%{transform:translateX(100%)} }

.sticky-nav{ position:sticky; top:0; overflow:hidden; }
.sticky-nav::after{
  content:""; position:absolute; inset:0; pointer-events:none;
  background: linear-gradient(110deg,
    transparent 0 40%,
    color-mix(in srgb, var(--accent) 40%, #fff) 50%,
    transparent 60% 100%);
  opacity:.22;
  transform:translateX(-100%);
  animation:ribbon-sheen 6s linear infinite;
}
.sticky-nav.compact::after{opacity:.18}

/* keep both bars thin (as you requested before) */
.sticky-nav{padding:24px clamp(14px,4vw,40px)}
.sticky-nav.compact{padding:4px clamp(14px,4vw,40px)}